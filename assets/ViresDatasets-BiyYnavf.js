import{p as $,e as xe,f as Fe,g as Y,a as ot,b as y,o as gt,r as R,c as b,F as wt,ab as be,d as T,bj as ke,aT as J,b2 as Se,x as Ie,V as Ne,bW as Te,s as Me,bX as Ve,bS as ht,U as V,ag as Le,bh as Ft,bY as Re,I as E,y as ft,J as Pe,q as Oe,bZ as dt,b_ as $e,b$ as ze,as as Xe,ar as Ge,Y as Ke,S as bt,Q as kt,$ as Ue,X as St,R as Ye,aA as He}from"./index-DdgTHYVx.js";import{i as M,c as It,a as Nt,b as qe,t as We,d as Je,e as Ze,f as Tt,g as Qe,h as je,l as tn,C as Ct,D as F,N as en,j as nn,k as rn,m as on,S as sn,E as an,M as ln,n as Mt,V as Vt,I as Lt}from"./linear-DEDceJI9.js";import{s as D,f as jt,t as te,g as Rt,l as cn}from"./states-Bl2fvEpM.js";import{V as fn}from"./VCardTitle-BNJkBgLR.js";import{d as un,e as Pt,f as hn,b as Ot,c as dn,g as pn,h as vn,a as $t}from"./VList-CO_urWRS.js";import"./index-CPvf9m9L.js";import"./ssrBoot-uls3kxJQ.js";import"./transition-Dv7lyQvx.js";import"./VDivider-BfxFQpXY.js";import"./VImg-y3bhav3-.js";const _n=$({start:Boolean,end:Boolean,...xe(),...Fe()},"VListItemAction"),mn=Y()({name:"VListItemAction",props:_n(),setup(t,e){let{slots:n}=e;return ot(()=>y(t.tag,{class:["v-list-item-action",{"v-list-item-action--start":t.start,"v-list-item-action--end":t.end},t.class],style:t.style},n)),{}}}),yn=$({...gt(un({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),zt=Y()({name:"VTreeviewGroup",props:yn(),setup(t,e){let{slots:n}=e;const r=R(),i=b(()=>r.value?.isOpen?t.collapseIcon:t.expandIcon),s=b(()=>({VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:r.value?.isOpen,toggleIcon:i.value}}));return ot(()=>{const o=Pt.filterProps(t);return y(Pt,T(o,{ref:r,class:["v-treeview-group",t.class],subgroup:!0}),{...n,activator:n.activator?a=>y(wt,null,[y(be,{defaults:s.value},{default:()=>[n.activator?.(a)]})]):void 0})}),{}}}),ee=Symbol.for("vuetify:v-treeview"),gn=$({loading:Boolean,onToggleExpand:ke(),toggleIcon:J,...hn({slim:!0})},"VTreeviewItem"),Xt=Y()({name:"VTreeviewItem",props:gn(),setup(t,e){let{attrs:n,slots:r,emit:i}=e;const s=Se(t,n),o=R(),a=b(()=>o.value?.root.activatable.value&&o.value?.isGroupActivator),l=b(()=>!t.disabled&&t.link!==!1&&(t.link||s.isClickable.value||t.value!=null&&!!o.value?.list||a.value));function c(u){!l.value||!a.value&&o.value?.isGroupActivator||o.value?.root.activatable.value&&o.value?.activate(!o.value?.isActivated,u)}const f=Ie(ee,{visibleIds:R()}).visibleIds;return ot(()=>{const u=gt(Ot.filterProps(t),["onClick"]),h=r.prepend||t.toggleIcon;return y(Ot,T({ref:o},u,{active:o.value?.isActivated,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":a.value,"v-treeview-item--filtered":f.value&&!f.value.has(o.value?.id)},t.class],ripple:!1,onClick:t.onClick??c}),{...r,prepend:h?d=>y(wt,null,[t.toggleIcon&&y(mn,{start:!1},{default:()=>[y(Ne,{density:"compact",icon:t.toggleIcon,loading:t.loading,variant:"text",onClick:t.onToggleExpand},{loader(){return y(Te,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),r.prepend?.(d)]):void 0})}),{}}}),ne=$({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:J,default:"$checkboxIndeterminate"},falseIcon:J,trueIcon:J,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),tt=Y()({name:"VTreeviewChildren",props:ne(),setup(t,e){let{emit:n,slots:r}=e;const i=Me(null),s=b(()=>t.openOnClick!=null?t.openOnClick:t.selectable);function o(l){return new Promise(c=>{if(!t.items?.length||!t.loadChildren)return c();if(l?.children?.length===0){i.value=l.value,t.loadChildren(l).then(c);return}c()}).finally(()=>{i.value=null})}function a(l,c){t.selectable&&l(!c)}return()=>r.default?.()??t.items?.map(l=>{let{children:c,props:f,raw:u}=l;const h=i.value===u.value,d={prepend:v=>y(wt,null,[t.selectable&&(!c||c&&!["leaf","single-leaf"].includes(t.selectStrategy))&&y("div",null,[y(dn,{key:u.value,modelValue:v.isSelected,loading:h,color:t.selectedColor,indeterminate:v.isIndeterminate,indeterminateIcon:t.indeterminateIcon,falseIcon:t.falseIcon,trueIcon:t.trueIcon,onClick:Ve(()=>a(v.select,v.isSelected),["stop"]),onKeydown:m=>{["Enter","Space"].includes(m.key)&&(m.stopPropagation(),a(v.select,v.isSelected))}},null)]),r.prepend?.({...v,item:u})]),append:r.append?v=>r.append?.({...v,item:u}):void 0,title:r.title?v=>r.title?.({...v,item:u}):void 0},p=zt.filterProps(f),_=tt.filterProps(t);return c?y(zt,T(p,{value:t.returnObject?u:p?.value}),{activator:v=>{let{props:m}=v;const C={...f,...m,value:f?.value,onToggleExpand:[()=>o(u),m.onClick],onClick:s.value?[()=>o(u),m.onClick]:void 0};return y(Xt,T(C,{value:t.returnObject?ht(u):f.value,loading:h}),d)},default:()=>y(tt,T(_,{items:c,returnObject:t.returnObject}),r)}):r.item?.({props:f})??y(Xt,T(f,{value:t.returnObject?ht(u):f.value}),d)})}}),wn=(t,e,n)=>t==null||e==null?-1:t.toString().toLocaleLowerCase().indexOf(e.toString().toLocaleLowerCase()),Cn=$({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function An(t,e,n){const r=[],i=n?.default??wn,s=n?.filterKeys?Ft(n.filterKeys):!1,o=Object.keys(n?.customKeyFilter??{}).length;if(!t?.length)return r;t:for(let a=0;a<t.length;a++){const[l,c=l]=Ft(t[a]),f={},u={};let h=-1;if((e||o>0)&&!n?.noFilter){if(typeof l=="object"){const _=s||Object.keys(c);for(const v of _){const m=Re(c,v),C=n?.customKeyFilter?.[v];if(h=C?C(m,e,l):i(m,e,l),h!==-1&&h!==!1)C?f[v]=h:u[v]=h;else if(n?.filterMode==="every")continue t}}else h=i(l,e,l),h!==-1&&h!==!1&&(u.title=h);const d=Object.keys(u).length,p=Object.keys(f).length;if(!d&&!p||n?.filterMode==="union"&&p!==o&&!d||n?.filterMode==="intersection"&&(p!==o||!d))continue}r.push({index:a,matches:{...u,...f}})}return r}function Dn(t,e,n,r){const i=R([]),s=R(new Map),o=b(()=>V(e));Le(()=>{const l=typeof n=="function"?n():V(n),c=typeof l!="string"&&typeof l!="number"?"":String(l),f=An(o.value,c,{customKeyFilter:{...t.customKeyFilter,...V(r?.customKeyFilter)},default:t.customFilter,filterKeys:t.filterKeys,filterMode:t.filterMode,noFilter:t.noFilter}),u=V(e),h=[],d=new Map;f.forEach(p=>{let{index:_,matches:v}=p;const m=u[_];h.push(m),d.set(m.value,v)}),i.value=h,s.value=d});function a(l){return s.value.get(l.value)}return{filteredItems:i,filteredMatches:s,getMatches:a}}function re(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of t)e.push(n),n.children&&re(n.children,e);return e}const En=$({openAll:Boolean,search:String,...Cn({filterKeys:["title"]}),...ne(),...gt(pn({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),Bn=Y()({name:"VTreeview",props:En(),emits:{"update:opened":t=>!0,"update:activated":t=>!0,"update:selected":t=>!0,"update:modelValue":t=>!0,"click:open":t=>!0,"click:select":t=>!0},setup(t,e){let{slots:n}=e;const{items:r}=vn(t),i=E(t,"activeColor"),s=E(t,"baseColor"),o=E(t,"color"),a=ft(t,"activated"),l=ft(t,"modelValue"),c=ft(t,"selected",t.modelValue),f=b({get:()=>c.value,set(g){c.value=g,l.value=g}}),u=R(),h=b(()=>t.openAll?C(r.value):t.opened),d=b(()=>re(r.value)),p=E(t,"search"),{filteredItems:_}=Dn(t,d,p),v=b(()=>{if(!p.value)return null;const g=u.value?.getPath;return g?new Set(_.value.flatMap(w=>[...g(w.props.value),...m(w.props.value)])):null});function m(g){const w=[],A=(u.value?.children.get(g)??[]).slice();for(;A.length;){const ct=A.shift();ct&&(w.push(ct),A.push(...(u.value?.children.get(ct)??[]).slice()))}return w}function C(g){let w=[];for(const A of g)A.children&&(w.push(t.returnObject?ht(A.raw):A.value),A.children&&(w=w.concat(C(A.children))));return w}return Oe(ee,{visibleIds:v}),Pe({VTreeviewGroup:{activeColor:i,baseColor:s,color:o,collapseIcon:E(t,"collapseIcon"),expandIcon:E(t,"expandIcon")},VTreeviewItem:{activeClass:E(t,"activeClass"),activeColor:i,baseColor:s,color:o,density:E(t,"density"),disabled:E(t,"disabled"),lines:E(t,"lines"),variant:E(t,"variant")}}),ot(()=>{const g=$t.filterProps(t),w=tt.filterProps(t);return y($t,T({ref:u},g,{class:["v-treeview",t.class],"open-strategy":"multiple",style:t.style,opened:h.value,activated:a.value,"onUpdate:activated":A=>a.value=A,selected:f.value,"onUpdate:selected":A=>f.value=A}),{default:()=>[y(tt,T(w,{returnObject:t.returnObject,items:r.value}),n)]})}),{}}}),{currentUrl:xn}=dt.states,Fn=async(t,e,n,r)=>{const i=t.assets.data.href+`&start=${e}&stop=${n}&format=json`;return console.log(i),await fetch(i).then(async s=>{const o=await s.text();console.log(o);const l=JSON.parse(o.replaceAll("NaN",'"NaN"')).data;return r.reduce((c,f,u)=>(c[f.name]=l?.map?.(h=>h[u]),c),{})}).catch(console.error)},bn=async(t,e)=>{if(!e)return;const n=e.links.find(r=>r.title==t);if(n)return await $e.get(ze(n.href,xn.value)).then(r=>r.data)},ut=()=>{let t=0;const e=[];function n(r){e.push(r),!isNaN(r)&&(t=Math.max(t,r))}return{norms:e,get maxNorm(){return t},set maxNorm(r){t=r},push:n}},kn=()=>{const t={},e=(o,a,l)=>{let c=t[o]?.[a];return c||(c=n(l),t[o]||(t[o]={}),t[o][a]=c),c},n=o=>{switch(o?.length){case 3:return s(o[0],o[1],o[2]);case 2:return i(o[0],o[1]);case 1:return r(o[0]);default:throw"Unsupported vector length "+o.length+"!"}},r=o=>{const a=Math.abs,l=ut();for(let c=0,f=o.length;c<f;c++)l.push(Number(a(o[c]).toFixed(0)));return l},i=(o,a)=>{const l=Math.hypot,c=ut();for(let f=0,u=o.length;f<u;f++)c.push(Number(l(o[f],a[f]).toFixed(0)));return c},s=(o,a,l)=>{const c=Math.hypot,f=ut();if(o?.length)for(let u=0,h=o?.length;u<h;u++)f.push(Number(c(o[u],a[u],l[u]).toFixed(0)));return f};return{getNorms:e}};var Sn={value:()=>{}};function ie(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Z(n)}function Z(t){this._=t}function In(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Z.prototype=ie.prototype={constructor:Z,on:function(t,e){var n=this._,r=In(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Nn(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=Gt(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Gt(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Z(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Nn(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Gt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Sn,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var pt="http://www.w3.org/1999/xhtml";const Kt={svg:"http://www.w3.org/2000/svg",xhtml:pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function st(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Kt.hasOwnProperty(e)?{space:Kt[e],local:t}:t}function Tn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pt&&e.documentElement.namespaceURI===pt?e.createElement(t):e.createElementNS(n,t)}}function Mn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function oe(t){var e=st(t);return(e.local?Mn:Tn)(e)}function Vn(){}function At(t){return t==null?Vn:function(){return this.querySelector(t)}}function Ln(t){typeof t!="function"&&(t=At(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,f=0;f<o;++f)(l=s[f])&&(c=t.call(l,l.__data__,f,s))&&("__data__"in l&&(c.__data__=l.__data__),a[f]=c);return new B(r,this._parents)}function Rn(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Pn(){return[]}function se(t){return t==null?Pn:function(){return this.querySelectorAll(t)}}function On(t){return function(){return Rn(t.apply(this,arguments))}}function $n(t){typeof t=="function"?t=On(t):t=se(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new B(r,i)}function ae(t){return function(){return this.matches(t)}}function le(t){return function(e){return e.matches(t)}}var zn=Array.prototype.find;function Xn(t){return function(){return zn.call(this.children,t)}}function Gn(){return this.firstElementChild}function Kn(t){return this.select(t==null?Gn:Xn(typeof t=="function"?t:le(t)))}var Un=Array.prototype.filter;function Yn(){return Array.from(this.children)}function Hn(t){return function(){return Un.call(this.children,t)}}function qn(t){return this.selectAll(t==null?Yn:Hn(typeof t=="function"?t:le(t)))}function Wn(t){typeof t!="function"&&(t=ae(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new B(r,this._parents)}function ce(t){return new Array(t.length)}function Jn(){return new B(this._enter||this._groups.map(ce),this._parents)}function et(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}et.prototype={constructor:et,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Zn(t){return function(){return t}}function Qn(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new et(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function jn(t,e,n,r,i,s,o){var a,l,c=new Map,f=e.length,u=s.length,h=new Array(f),d;for(a=0;a<f;++a)(l=e[a])&&(h[a]=d=o.call(l,l.__data__,a,e)+"",c.has(d)?i[a]=l:c.set(d,l));for(a=0;a<u;++a)d=o.call(t,s[a],a,s)+"",(l=c.get(d))?(r[a]=l,l.__data__=s[a],c.delete(d)):n[a]=new et(t,s[a]);for(a=0;a<f;++a)(l=e[a])&&c.get(h[a])===l&&(i[a]=l)}function tr(t){return t.__data__}function er(t,e){if(!arguments.length)return Array.from(this,tr);var n=e?jn:Qn,r=this._parents,i=this._groups;typeof t!="function"&&(t=Zn(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var f=r[c],u=i[c],h=u.length,d=nr(t.call(f,f&&f.__data__,c,r)),p=d.length,_=a[c]=new Array(p),v=o[c]=new Array(p),m=l[c]=new Array(h);n(f,u,_,v,m,d,e);for(var C=0,g=0,w,A;C<p;++C)if(w=_[C]){for(C>=g&&(g=C+1);!(A=v[g])&&++g<p;);w._next=A||null}}return o=new B(o,r),o._enter=a,o._exit=l,o}function nr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function rr(){return new B(this._exit||this._groups.map(ce),this._parents)}function ir(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function or(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],f=r[l],u=c.length,h=a[l]=new Array(u),d,p=0;p<u;++p)(d=c[p]||f[p])&&(h[p]=d);for(;l<i;++l)a[l]=n[l];return new B(a,this._parents)}function sr(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function ar(t){t||(t=lr);function e(u,h){return u&&h?t(u.__data__,h.__data__):!u-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,f=0;f<a;++f)(c=o[f])&&(l[f]=c);l.sort(e)}return new B(i,this._parents).order()}function lr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function fr(){return Array.from(this)}function ur(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function hr(){let t=0;for(const e of this)++t;return t}function dr(){return!this.node()}function pr(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function vr(t){return function(){this.removeAttribute(t)}}function _r(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mr(t,e){return function(){this.setAttribute(t,e)}}function yr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function gr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function wr(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Cr(t,e){var n=st(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?_r:vr:typeof e=="function"?n.local?wr:gr:n.local?yr:mr)(n,e))}function fe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ar(t){return function(){this.style.removeProperty(t)}}function Dr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Er(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Br(t,e,n){return arguments.length>1?this.each((e==null?Ar:typeof e=="function"?Er:Dr)(t,e,n??"")):P(this.node(),t)}function P(t,e){return t.style.getPropertyValue(e)||fe(t).getComputedStyle(t,null).getPropertyValue(e)}function xr(t){return function(){delete this[t]}}function Fr(t,e){return function(){this[t]=e}}function br(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function kr(t,e){return arguments.length>1?this.each((e==null?xr:typeof e=="function"?br:Fr)(t,e)):this.node()[t]}function ue(t){return t.trim().split(/^|\s+/)}function Dt(t){return t.classList||new he(t)}function he(t){this._node=t,this._names=ue(t.getAttribute("class")||"")}he.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function de(t,e){for(var n=Dt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function pe(t,e){for(var n=Dt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Sr(t){return function(){de(this,t)}}function Ir(t){return function(){pe(this,t)}}function Nr(t,e){return function(){(e.apply(this,arguments)?de:pe)(this,t)}}function Tr(t,e){var n=ue(t+"");if(arguments.length<2){for(var r=Dt(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Nr:e?Sr:Ir)(n,e))}function Mr(){this.textContent=""}function Vr(t){return function(){this.textContent=t}}function Lr(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Rr(t){return arguments.length?this.each(t==null?Mr:(typeof t=="function"?Lr:Vr)(t)):this.node().textContent}function Pr(){this.innerHTML=""}function Or(t){return function(){this.innerHTML=t}}function $r(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function zr(t){return arguments.length?this.each(t==null?Pr:(typeof t=="function"?$r:Or)(t)):this.node().innerHTML}function Xr(){this.nextSibling&&this.parentNode.appendChild(this)}function Gr(){return this.each(Xr)}function Kr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ur(){return this.each(Kr)}function Yr(t){var e=typeof t=="function"?t:oe(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Hr(){return null}function qr(t,e){var n=typeof t=="function"?t:oe(t),r=e==null?Hr:typeof e=="function"?e:At(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Wr(){var t=this.parentNode;t&&t.removeChild(this)}function Jr(){return this.each(Wr)}function Zr(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function jr(t){return this.select(t?Qr:Zr)}function ti(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ei(t){return function(e){t.call(this,e,this.__data__)}}function ni(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ri(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function ii(t,e,n){return function(){var r=this.__on,i,s=ei(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function oi(t,e,n){var r=ni(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,f;l<c;++l)for(i=0,f=a[l];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(a=e?ii:ri,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function ve(t,e,n){var r=fe(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function si(t,e){return function(){return ve(this,t,e)}}function ai(t,e){return function(){return ve(this,t,e.apply(this,arguments))}}function li(t,e){return this.each((typeof e=="function"?ai:si)(t,e))}function*ci(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var fi=[null];function B(t,e){this._groups=t,this._parents=e}function H(){return new B([[document.documentElement]],fi)}function ui(){return this}B.prototype=H.prototype={constructor:B,select:Ln,selectAll:$n,selectChild:Kn,selectChildren:qn,filter:Wn,data:er,enter:Jn,exit:rr,join:ir,merge:or,selection:ui,order:sr,sort:ar,call:cr,nodes:fr,node:ur,size:hr,empty:dr,each:pr,attr:Cr,style:Br,property:kr,classed:Tr,text:Rr,html:zr,raise:Gr,lower:Ur,append:Yr,insert:qr,remove:Jr,clone:jr,datum:ti,on:oi,dispatch:li,[Symbol.iterator]:ci};var Ut=180/Math.PI,vt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _e(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Ut,skewX:Math.atan(l)*Ut,scaleX:o,scaleY:a}}var q;function hi(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?vt:_e(e.a,e.b,e.c,e.d,e.e,e.f)}function di(t){return t==null||(q||(q=document.createElementNS("http://www.w3.org/2000/svg","g")),q.setAttribute("transform",t),!(t=q.transform.baseVal.consolidate()))?vt:(t=t.matrix,_e(t.a,t.b,t.c,t.d,t.e,t.f))}function me(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,f,u,h,d,p){if(c!==u||f!==h){var _=d.push("translate(",null,e,null,n);p.push({i:_-4,x:M(c,u)},{i:_-2,x:M(f,h)})}else(u||h)&&d.push("translate("+u+e+h+n)}function o(c,f,u,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:u.push(i(u)+"rotate(",null,r)-2,x:M(c,f)})):f&&u.push(i(u)+"rotate("+f+r)}function a(c,f,u,h){c!==f?h.push({i:u.push(i(u)+"skewX(",null,r)-2,x:M(c,f)}):f&&u.push(i(u)+"skewX("+f+r)}function l(c,f,u,h,d,p){if(c!==u||f!==h){var _=d.push(i(d)+"scale(",null,",",null,")");p.push({i:_-4,x:M(c,u)},{i:_-2,x:M(f,h)})}else(u!==1||h!==1)&&d.push(i(d)+"scale("+u+","+h+")")}return function(c,f){var u=[],h=[];return c=t(c),f=t(f),s(c.translateX,c.translateY,f.translateX,f.translateY,u,h),o(c.rotate,f.rotate,u,h),a(c.skewX,f.skewX,u,h),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,u,h),c=f=null,function(d){for(var p=-1,_=h.length,v;++p<_;)u[(v=h[p]).i]=v.x(d);return u.join("")}}}var pi=me(hi,"px, ","px)","deg)"),vi=me(di,", ",")",")"),O=0,X=0,z=0,ye=1e3,nt,G,rt=0,L=0,at=0,U=typeof performance=="object"&&performance.now?performance:Date,ge=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Et(){return L||(ge(_i),L=U.now()+at)}function _i(){L=0}function it(){this._call=this._time=this._next=null}it.prototype=we.prototype={constructor:it,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Et():+n)+(e==null?0:+e),!this._next&&G!==this&&(G?G._next=this:nt=this,G=this),this._call=t,this._time=n,_t()},stop:function(){this._call&&(this._call=null,this._time=1/0,_t())}};function we(t,e,n){var r=new it;return r.restart(t,e,n),r}function mi(){Et(),++O;for(var t=nt,e;t;)(e=L-t._time)>=0&&t._call.call(void 0,e),t=t._next;--O}function Yt(){L=(rt=U.now())+at,O=X=0;try{mi()}finally{O=0,gi(),L=0}}function yi(){var t=U.now(),e=t-rt;e>ye&&(at-=e,rt=t)}function gi(){for(var t,e=nt,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:nt=n);G=t,_t(r)}function _t(t){if(!O){X&&(X=clearTimeout(X));var e=t-L;e>24?(t<1/0&&(X=setTimeout(Yt,t-U.now()-at)),z&&(z=clearInterval(z))):(z||(rt=U.now(),z=setInterval(yi,ye)),O=1,ge(Yt))}}function Ht(t,e,n){var r=new it;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var wi=ie("start","end","cancel","interrupt"),Ci=[],Ce=0,qt=1,mt=2,Q=3,Wt=4,yt=5,j=6;function lt(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Ai(t,n,{name:e,index:r,group:i,on:wi,tween:Ci,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ce})}function Bt(t,e){var n=x(t,e);if(n.state>Ce)throw new Error("too late; already scheduled");return n}function k(t,e){var n=x(t,e);if(n.state>Q)throw new Error("too late; already running");return n}function x(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ai(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=we(s,0,n.time);function s(c){n.state=qt,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,u,h,d;if(n.state!==qt)return l();for(f in r)if(d=r[f],d.name===n.name){if(d.state===Q)return Ht(o);d.state===Wt?(d.state=j,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[f]):+f<e&&(d.state=j,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[f])}if(Ht(function(){n.state===Q&&(n.state=Wt,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=mt,n.on.call("start",t,t.__data__,n.index,n.group),n.state===mt){for(n.state=Q,i=new Array(h=n.tween.length),f=0,u=-1;f<h;++f)(d=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function a(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=yt,1),u=-1,h=i.length;++u<h;)i[u].call(t,f);n.state===yt&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=j,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Di(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>mt&&r.state<yt,r.state=j,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function Ei(t){return this.each(function(){Di(this,t)})}function Bi(t,e){var n,r;return function(){var i=k(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function xi(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=k(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Fi(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=x(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Bi:xi)(n,t,e))}function xt(t,e,n){var r=t._id;return t.each(function(){var i=k(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return x(i,r).value[e]}}function Ae(t,e){var n;return(typeof e=="number"?M:e instanceof It?Nt:(n=It(e))?(e=n,Nt):qe)(t,e)}function bi(t){return function(){this.removeAttribute(t)}}function ki(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Si(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Ii(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Ni(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Ti(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Mi(t,e){var n=st(t),r=n==="transform"?vi:Ae;return this.attrTween(t,typeof e=="function"?(n.local?Ti:Ni)(n,r,xt(this,"attr."+t,e)):e==null?(n.local?ki:bi)(n):(n.local?Ii:Si)(n,r,e))}function Vi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Li(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ri(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Li(t,s)),n}return i._value=e,i}function Pi(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Vi(t,s)),n}return i._value=e,i}function Oi(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=st(t);return this.tween(n,(r.local?Ri:Pi)(r,e))}function $i(t,e){return function(){Bt(this,t).delay=+e.apply(this,arguments)}}function zi(t,e){return e=+e,function(){Bt(this,t).delay=e}}function Xi(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$i:zi)(e,t)):x(this.node(),e).delay}function Gi(t,e){return function(){k(this,t).duration=+e.apply(this,arguments)}}function Ki(t,e){return e=+e,function(){k(this,t).duration=e}}function Ui(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Gi:Ki)(e,t)):x(this.node(),e).duration}function Yi(t,e){if(typeof e!="function")throw new Error;return function(){k(this,t).ease=e}}function Hi(t){var e=this._id;return arguments.length?this.each(Yi(e,t)):x(this.node(),e).ease}function qi(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;k(this,t).ease=n}}function Wi(t){if(typeof t!="function")throw new Error;return this.each(qi(this._id,t))}function Ji(t){typeof t!="function"&&(t=ae(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new N(r,this._parents,this._name,this._id)}function Zi(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],f=l.length,u=o[a]=new Array(f),h,d=0;d<f;++d)(h=l[d]||c[d])&&(u[d]=h);for(;a<r;++a)o[a]=e[a];return new N(o,this._parents,this._name,this._id)}function Qi(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function ji(t,e,n){var r,i,s=Qi(e)?Bt:k;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function to(t,e){var n=this._id;return arguments.length<2?x(this.node(),n).on.on(t):this.each(ji(n,t,e))}function eo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function no(){return this.on("end.remove",eo(this._id))}function ro(t){var e=this._name,n=this._id;typeof t!="function"&&(t=At(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),f,u,h=0;h<l;++h)(f=a[h])&&(u=t.call(f,f.__data__,h,a))&&("__data__"in f&&(u.__data__=f.__data__),c[h]=u,lt(c[h],e,n,h,c,x(f,n)));return new N(s,this._parents,e,n)}function io(t){var e=this._name,n=this._id;typeof t!="function"&&(t=se(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,f,u=0;u<c;++u)if(f=l[u]){for(var h=t.call(f,f.__data__,u,l),d,p=x(f,n),_=0,v=h.length;_<v;++_)(d=h[_])&&lt(d,e,n,_,h,p);s.push(h),o.push(f)}return new N(s,o,e,n)}var oo=H.prototype.constructor;function so(){return new oo(this._groups,this._parents)}function ao(t,e){var n,r,i;return function(){var s=P(this,t),o=(this.style.removeProperty(t),P(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function De(t){return function(){this.style.removeProperty(t)}}function lo(t,e,n){var r,i=n+"",s;return function(){var o=P(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function co(t,e,n){var r,i,s;return function(){var o=P(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),P(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function fo(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=k(this,t),c=l.on,f=l.value[s]==null?a||(a=De(e)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(o,i=f),l.on=r}}function uo(t,e,n){var r=(t+="")=="transform"?pi:Ae;return e==null?this.styleTween(t,ao(t,r)).on("end.style."+t,De(t)):typeof e=="function"?this.styleTween(t,co(t,r,xt(this,"style."+t,e))).each(fo(this._id,t)):this.styleTween(t,lo(t,r,e),n).on("end.style."+t,null)}function ho(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function po(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ho(t,o,n)),r}return s._value=e,s}function vo(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,po(t,e,n??""))}function _o(t){return function(){this.textContent=t}}function mo(t){return function(){var e=t(this);this.textContent=e??""}}function yo(t){return this.tween("text",typeof t=="function"?mo(xt(this,"text",t)):_o(t==null?"":t+""))}function go(t){return function(e){this.textContent=t.call(this,e)}}function wo(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&go(i)),e}return r._value=t,r}function Co(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,wo(t))}function Ao(){for(var t=this._name,e=this._id,n=Ee(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var f=x(l,e);lt(l,t,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new N(r,this._parents,t,n)}function Do(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=k(this,r),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var Eo=0;function N(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ee(){return++Eo}var S=H.prototype;N.prototype={constructor:N,select:ro,selectAll:io,selectChild:S.selectChild,selectChildren:S.selectChildren,filter:Ji,merge:Zi,selection:so,transition:Ao,call:S.call,nodes:S.nodes,node:S.node,size:S.size,empty:S.empty,each:S.each,on:to,attr:Mi,attrTween:Oi,style:uo,styleTween:vo,text:yo,textTween:Co,remove:no,tween:Fi,delay:Xi,duration:Ui,ease:Hi,easeVarying:Wi,end:Do,[Symbol.iterator]:S[Symbol.iterator]};function Bo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var xo={time:null,delay:0,duration:250,ease:Bo};function Fo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function bo(t){var e,n;t instanceof N?(e=t._id,t=t._name):(e=Ee(),(n=xo).time=Et(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&lt(l,t,e,c,o,n||Fo(l,e));return new N(r,this._parents,t,e)}H.prototype.interrupt=Ei;H.prototype.transition=bo;function ko(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function Jt(t){return Math.log(t)}function Zt(t){return Math.exp(t)}function So(t){return-Math.log(-t)}function Io(t){return-Math.exp(-t)}function No(t){return isFinite(t)?+("1e"+t):t<0?0:t}function To(t){return t===10?No:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Mo(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Qt(t){return(e,n)=>-t(-e,n)}function Vo(t){const e=t(Jt,Zt),n=e.domain;let r=10,i,s;function o(){return i=Mo(r),s=To(r),n()[0]<0?(i=Qt(i),s=Qt(s),t(So,Io)):t(Jt,Zt),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],f=l[l.length-1];const u=f<c;u&&([c,f]=[f,c]);let h=i(c),d=i(f),p,_;const v=a==null?10:+a;let m=[];if(!(r%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(p=1;p<r;++p)if(_=h<0?p/s(-h):p*s(h),!(_<c)){if(_>f)break;m.push(_)}}else for(;h<=d;++h)for(p=r-1;p>=1;--p)if(_=h>0?p/s(-h):p*s(h),!(_<c)){if(_>f)break;m.push(_)}m.length*2<v&&(m=Tt(c,f,v))}else m=Tt(h,d,Math.min(d-h,v)).map(s);return u?m.reverse():m},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qe(l)).precision==null&&(l.trim=!0),l=je(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return f=>{let u=f/s(Math.round(i(f)));return u*r<r-.5&&(u*=r),u<=c?l(f):""}},e.nice=()=>n(ko(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function Be(){const t=Vo(We()).domain([1,10]);return t.copy=()=>Je(t,Be()).base(t.base()),Ze.apply(t,arguments),t}function K(t,e,n){this.k=t,this.x=e,this.y=n}K.prototype={constructor:K,scale:function(t){return t===1?this:new K(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new K(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};K.prototype;const W={rainbow:{colors:["#96005A","#0000C8","#0019FF","#0098FF","#2CFF96","#97FF00","#FFEA00","#FF6F00","#FF0000"],positions:[0,.125,.25,.375,.5,.625,.75,.875,1]},jet:{colors:["#000083","#003CAA","#05FFFF","#FFFF00","#FA0000","#800000"],positions:[0,.125,.375,.625,.875,1]},hsv:{colors:["#ff0000","#fdff02","#f7ff02","#00fc04","#00fc0a","#01f9ff","#0200fd","#0800fd","#ff00fb","#ff00f5","#ff0006"],positions:[0,.169,.173,.337,.341,.506,.671,.675,.839,.843,1]},hot:{colors:["#000000","#e60000","#ffd200","#ffffff"],positions:[0,.3,.6,1]},cool:{colors:["#00ffff","#ff00ff"],positions:[0,1]},spring:{colors:["#ff00ff","#ffff00"],positions:[0,1]},summer:{colors:["#008066","#ffff66"],positions:[0,1]},autumn:{colors:["#ff0000","#ffff00"],positions:[0,1]},winter:{colors:["#0000ff","#00ff80"],positions:[0,1]},bone:{colors:["#000000","#545474","#a9c8c8","#ffffff"],positions:[0,.376,.753,1]},copper:{colors:["#000000","#ffa066","#ffc77f"],positions:[0,.804,1]},greys:{colors:["#000000","#ffffff"],positions:[0,1]},ylgnbu:{colors:["#081d58","#253494","#225ea8","#1d91c0","#41b6c4","#7fcdbb","#c7e9b4","#edf8d9","#ffffd9"],positions:[0,.125,.25,.375,.5,.625,.75,.875,1]},greens:{colors:["#00441b","#006d2c","#238b45","#41ab5d","#74c476","#a1d99b","#c7e9c0","#e5f5e0","#f7fcf5"],positions:[0,.125,.25,.375,.5,.625,.75,.875,1]},ylorrd:{colors:["#800026","#bd0026","#e31a1c","#fc4e2a","#fd8d3c","#feb24c","#fed976","#ffeda0","#ffffcc"],positions:[0,.125,.25,.375,.5,.625,.75,.875,1]},bluered:{colors:["#0000ff","#ff0000"],positions:[0,1]},rdbu:{colors:["#050aac","#6a89f7","#bebebe","#dcaa84","#e6915a","#b20a1c"],positions:[0,.35,.5,.6,.7,1]},picnic:{colors:["#0000ff","#3399ff","#66ccff","#99ccff","#ccccff","#ffffff","#ffccff","#ff99ff","#ff66cc","#ff6666","#ff0000"],positions:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]},portland:{colors:["#0c3383","#0a88ba","#f2d338","#f28f38","#d91e1e"],positions:[0,.25,.5,.75,1]},blackbody:{colors:["#000000","#e60000","#e6d200","#ffffff","#a0c8ff"],positions:[0,.2,.4,.7,1]},earth:{colors:["#000082","#00b4b4","#28d228","#e6e632","#784614","#ffffff"],positions:[0,.1,.2,.4,.6,1]},electric:{colors:["#000000","#1e0064","#780064","#a05a00","#e6c800","#fffadc"],positions:[0,.15,.4,.6,.8,1]},plasma:{colors:["#f0f921","#fdca26","#fb9f3a","#ed7953","#d8576b","#bd3786","#9c179e","#7201a8","#46039f","#0d0887"],positions:[0,.1,.2,.3,.4,.5,.6,.7,.8,1]},redblue:{colors:["#ff0000","#0000ff"],positions:[0,1]},coolwarm:{colors:["#0000ff","#ffffff","#ff0000"],positions:[0,.5,1]},diverging_1:{colors:["#400040","#3b004d","#36005b","#320068","#2d0076","#290084","#240091","#20009f","#1b00ad","#1600ba","#1200c8","#0d00d6","#0900e3","#0400f1","#0000ff","#0217ff","#042eff","#0645ff","#095cff","#0b73ff","#0d8bff","#10a2ff","#12b9ff","#14d0ff","#17e7ff","#19ffff","#3fffff","#66ffff","#8cffff","#b2ffff","#d8ffff","#ffffff","#ffffd4","#ffffaa","#ffff7f","#ffff54","#ffff2a","#ffff00","#ffed00","#ffdd00","#ffcc00","#ffba00","#ffaa00","#ff9900","#ff8700","#ff7700","#ff6600","#ff5400","#ff4400","#ff3300","#ff2100","#ff1100","#ff0000","#ff0017","#ff002e","#ff0045","#ff005c","#ff0073","#ff008b","#ff00a2","#ff00b9","#ff00d0","#ff00e7","#ff00ff"],positions:[0,.01587301587,.03174603174,.04761904761,.06349206348,.07936507935,.09523809522,.11111111109,.12698412696,.14285714283,.1587301587,.17460317457,.19047619044,.20634920631,.22222222218,.23809523805,.25396825392,.26984126979,.28571428566,.30158730153,.3174603174,.33333333327,.34920634914,.36507936501,.38095238088,.39682539675,.41269841262,.42857142849,.44444444436,.46031746023,.4761904761,.49206349197,.50793650784,.52380952371,.53968253958,.55555555545,.57142857132,.58730158719,.60317460306,.61904761893,.6349206348,.65079365067,.66666666654,.68253968241,.69841269828,.71428571415,.73015873002,.74603174589,.76190476176,.77777777763,.7936507935,.80952380937,.82539682524,.84126984111,.85714285698,.87301587285,.88888888872,.90476190459,.92063492046,.93650793633,.9523809522,.96825396807,.98412698394,1]},diverging_2:{colors:["#000000","#030aff","#204aff","#3c8aff","#77c4ff","#f0ffff","#f0ffff","#f2ff7f","#ffff00","#ff831e","#ff083d","#ff00ff"],positions:[0,1e-10,.1,.2,.3333,.4666,.5333,.6666,.8,.9,.999999999999,1]},blackwhite:{colors:["#000000","#ffffff"],positions:[0,1]},ylgnbu_reversed:{colors:["#081d58","#253494","#225ea8","#1d91c0","#41b6c4","#7fcdbb","#c7e9b4","#edf8d9","#ffffd9"],positions:[1,.875,.75,.625,.5,.375,.25,.125,0]},ylorrd_reversed:{colors:["#800026","#bd0026","#e31a1c","#fc4e2a","#fd8d3c","#feb24c","#fed976","#ffeda0","#ffffcc"],positions:[1,.875,.75,.625,.5,.375,.25,.125,0]},twilight:{colors:["#E2D9E2","#E0D9E2","#DDD9E0","#DAD8DF","#D6D7DD","#D2D5DB","#CDD3D8","#C8D0D6","#C2CED4","#BCCBD1","#B6C8CF","#B0C5CD","#AAC2CC","#A4BECA","#9EBBC9","#99B8C8","#93B4C6","#8EB1C5","#89ADC5","#85A9C4","#80A5C3","#7CA2C2","#789EC2","#759AC1","#7196C1","#6E92C0","#6C8EBF","#698ABF","#6786BE","#6682BD","#647DBC","#6379BB","#6275BA","#6170B9","#606CB8","#6067B6","#5F62B4","#5F5EB3","#5F59B1","#5E54AE","#5E4FAC","#5E4BA9","#5E46A6","#5D41A3","#5D3CA0","#5C379C","#5B3298","#5A2E93","#59298E","#572588","#562182","#531E7C","#511A75","#4E186F","#4B1668","#471461","#44135A","#411254","#3D114E","#3A1149","#371144","#351140","#33113C","#311339","#301437","#331237","#351138","#381139","#3B113B","#3F123D","#43123E","#481341","#4D1443","#521545","#571647","#5C1749","#61184B","#67194C","#6C1B4E","#711D4F","#761F4F","#7B2150","#802350","#852650","#8A2950","#8E2C50","#922F50","#963350","#9A3750","#9E3B50","#A13F50","#A54350","#A84750","#AB4B50","#AE5051","#B15452","#B35953","#B65D54","#B86255","#BA6657","#BC6B59","#BE705B","#C0755E","#C27A61","#C37F64","#C58468","#C6896C","#C78E71","#C89275","#C9977B","#CA9C80","#CCA186","#CDA68C","#CEAB92","#CFAF99","#D1B4A0","#D2B8A7","#D4BDAD","#D6C1B4","#D8C5BB","#D9C9C2","#DBCCC8","#DDD0CE","#DED3D3","#DFD5D8","#E0D7DB","#E1D8DF","#E2D9E1"],positions:[0,.0078740157,.0157480315,.0236220472,.031496063,.0393700787,.0472440945,.0551181102,.062992126,.0708661417,.0787401575,.0866141732,.094488189,.1023622047,.1102362205,.1181102362,.125984252,.1338582677,.1417322835,.1496062992,.157480315,.1653543307,.1732283465,.1811023622,.188976378,.1968503937,.2047244094,.2125984252,.2204724409,.2283464567,.2362204724,.2440944882,.2519685039,.2598425197,.2677165354,.2755905512,.2834645669,.2913385827,.2992125984,.3070866142,.3149606299,.3228346457,.3307086614,.3385826772,.3464566929,.3543307087,.3622047244,.3700787402,.3779527559,.3858267717,.3937007874,.4015748031,.4094488189,.4173228346,.4251968504,.4330708661,.4409448819,.4488188976,.4566929134,.4645669291,.4724409449,.4803149606,.4881889764,.4960629921,.5039370079,.5118110236,.5196850394,.5275590551,.5354330709,.5433070866,.5511811024,.5590551181,.5669291339,.5748031496,.5826771654,.5905511811,.5984251969,.6062992126,.6141732283,.6220472441,.6299212598,.6377952756,.6456692913,.6535433071,.6614173228,.6692913386,.6771653543,.6850393701,.6929133858,.7007874016,.7086614173,.7165354331,.7244094488,.7322834646,.7401574803,.7480314961,.7559055118,.7637795276,.7716535433,.7795275591,.7874015748,.7952755906,.8031496063,.811023622,.8188976378,.8267716535,.8346456693,.842519685,.8503937008,.8582677165,.8661417323,.874015748,.8818897638,.8897637795,.8976377953,.905511811,.9133858268,.9212598425,.9291338583,.937007874,.9448818898,.9527559055,.9606299213,.968503937,.9763779528,.9842519685,.9921259843,1]},twilight_shifted:{colors:["#301437","#32123A","#34113E","#361142","#391146","#3C114B","#3F1251","#421257","#46145E","#491564","#4C176B","#4F1972","#521C79","#551F7F","#572385","#58278B","#5A2B90","#5B3095","#5C359A","#5D3A9E","#5D3EA1","#5E43A5","#5E48A8","#5E4DAB","#5E52AD","#5F57B0","#5F5BB2","#5F60B4","#5F65B5","#6069B7","#606EB8","#6172BA","#6277BB","#637BBC","#657FBD","#6684BD","#6888BE","#6B8CBF","#6D90C0","#7094C0","#7398C1","#769CC1","#7AA0C2","#7EA4C3","#82A7C3","#87ABC4","#8CAFC5","#91B2C6","#96B6C7","#9CB9C8","#A1BDC9","#A7C0CB","#ADC3CD","#B3C6CE","#B9C9D0","#BFCCD3","#C5CFD5","#CBD2D7","#D0D4D9","#D4D6DC","#D8D8DE","#DCD9DF","#DED9E1","#E1D9E2","#E2D9E1","#E1D8DF","#E0D7DB","#DFD5D8","#DED3D3","#DDD0CE","#DBCCC8","#D9C9C2","#D8C5BB","#D6C1B4","#D4BDAD","#D2B8A7","#D1B4A0","#CFAF99","#CEAB92","#CDA68C","#CCA186","#CA9C80","#C9977B","#C89275","#C78E71","#C6896C","#C58468","#C37F64","#C27A61","#C0755E","#BE705B","#BC6B59","#BA6657","#B86255","#B65D54","#B35953","#B15452","#AE5051","#AB4B50","#A84750","#A54350","#A13F50","#9E3B50","#9A3750","#963350","#922F50","#8E2C50","#8A2950","#852650","#802350","#7B2150","#761F4F","#711D4F","#6C1B4E","#67194C","#61184B","#5C1749","#571647","#521545","#4D1443","#481341","#43123E","#3F123D","#3B113B","#381139","#351138","#331237","#301437"],positions:[0,.0078740157,.0157480315,.0236220472,.031496063,.0393700787,.0472440945,.0551181102,.062992126,.0708661417,.0787401575,.0866141732,.094488189,.1023622047,.1102362205,.1181102362,.125984252,.1338582677,.1417322835,.1496062992,.157480315,.1653543307,.1732283465,.1811023622,.188976378,.1968503937,.2047244094,.2125984252,.2204724409,.2283464567,.2362204724,.2440944882,.2519685039,.2598425197,.2677165354,.2755905512,.2834645669,.2913385827,.2992125984,.3070866142,.3149606299,.3228346457,.3307086614,.3385826772,.3464566929,.3543307087,.3622047244,.3700787402,.3779527559,.3858267717,.3937007874,.4015748031,.4094488189,.4173228346,.4251968504,.4330708661,.4409448819,.4488188976,.4566929134,.4645669291,.4724409449,.4803149606,.4881889764,.4960629921,.5039370079,.5118110236,.5196850394,.5275590551,.5354330709,.5433070866,.5511811024,.5590551181,.5669291339,.5748031496,.5826771654,.5905511811,.5984251969,.6062992126,.6141732283,.6220472441,.6299212598,.6377952756,.6456692913,.6535433071,.6614173228,.6692913386,.6771653543,.6850393701,.6929133858,.7007874016,.7086614173,.7165354331,.7244094488,.7322834646,.7401574803,.7480314961,.7559055118,.7637795276,.7716535433,.7795275591,.7874015748,.7952755906,.8031496063,.811023622,.8188976378,.8267716535,.8346456693,.842519685,.8503937008,.8582677165,.8661417323,.874015748,.8818897638,.8897637795,.8976377953,.905511811,.9133858268,.9212598425,.9291338583,.937007874,.9448818898,.9527559055,.9606299213,.968503937,.9763779528,.9842519685,.9921259843,1]}},Lo=(t,e,n,r,i)=>{t in W||(console.warn("colorscales doesnt include "+t),t="jet");const s=(h,d,p)=>{const _=[];for(const v of h)_.push(v*(p-d)+d);return _},o=W[t].colors,a=W[t].positions;e=s(a,e[0],e.at(-1));const l=tn(e,o),c=Be(e,o).base(10),u=(()=>{const h={range:l.range(),domain:[a[0],a[a.length-1]],titletext:`${r?`${r}:`:""} ${n} ${i?`(${i})`:""}`,billboards:[]},d=()=>h;return d.addBillboard=p=>(h.billboards.push(p),d),d})();return{getColor:l,getLogColor:c,colorscales:W,getLegend:u}};function Ro(t,e,n){const r=Math.sin(F*t)*n,i=Math.cos(F*t)*n,s=Math.sin(F*e),o=Math.cos(F*e);return new Ct(i*o,i*s,r)}const Po=(t,e)=>{const n={id:t+"_"+e,type:"Point",points:[]},r=sn.includes(e)?"getLogColor":"getColor";return{featureCollection:n,pointCreator:(s,o)=>{let a=s.Radius;(o?.fixedAltitude||a==null)&&(a=en?.[e]??nn);const l=Ro(s.Latitude,s.Longitude,an+1e4),c=isNaN(s[e])?"#ffff":o.colormap[r](s[e]),f={position:Ct.clone(l),color:c,pixelSize:o.pixelSize??rn,outlineWidth:0,scaleByDistance:on};n.points.push(f)}}};class I extends Ct{constructor(e,n,r){super(e,n,r)}norm(){return Math.hypot(this.x,this.y,this.z)}normalize(){const e=this.norm();return this.multScalar(e>0?1/e:0)}multScalar(e){return new I(this.x*e,this.y*e,this.z*e)}addVector(e){return new I(this.x+e.x,this.y+e.y,this.z+e.z)}subVector(e){return new I(this.x-e.x,this.y-e.y,this.z-e.z)}project(e,n,r){const i=e.multScalar(this.x),s=n.multScalar(this.y),o=r.multScalar(this.z);return new I(i.x+s.x+o.x,i.y+s.y+o.y,i.z+s.z+o.z)}projectNEC2GCCart(e,n){const r=Math.sin(F*e),i=Math.cos(F*e),s=Math.sin(F*n),o=Math.cos(F*n),a=-i*this.z-r*this.x;return new I(o*a-s*this.y,s*a+o*this.y,i*this.x-r*this.z)}convertSpherical2Cartesian(){const e=F*this.x,n=F*this.y,r=this.z,i=Math.sin(e)*r,s=Math.cos(e)*r,o=Math.sin(n),a=Math.cos(n);return new I(s*a,s*o,i)}}const Oo=(t,e)=>{const n={id:t+"_"+e,type:"Vector",vectors:[]};let r;switch(e){case"Absolute_STEC":case"Absolute_VTEC":case"Elevation_Angle":case"Relative_STEC":case"Relative_STEC_RMS":r=(i,s)=>{};default:r=(i,s)=>{$o(i,s,n)}}return{featureCollection:n,vectorCreator:r}};function $o(t,e,n){const r=e.norms?.[t.__index__],i=e.maxNorm;if(isNaN(r)||isNaN(i))return;const s=e.colormap.getColor(r),o=new I(t.Latitude,t.Longitude,t.Radius).convertSpherical2Cartesian(),a=t?.[e.info?.name]?.[0],l=t?.[e.info?.name]?.[1],c=t?.[e.info?.name]?.[2],f=new I(a,l,c).multScalar(ln/i).projectNEC2GCCart(t.Latitude,t.Longitude).addVector(o);n.vectors.push({positions:[o,f],color:s})}const zo=t=>{const e=t.info?.name??"",n={type:"scatter",data:{datasets:[{data:[],pointBackgroundColor:i=>{const s=i.dataIndex;if(isNaN(t.norms?.[s])){const o=t.chart?.configuration.data.datasets[0].data[s];return t.colormap.getColor(o?.y??0)}else return t.norms?.[s]?t.colormap.getColor(t.norms?.[s]):"#ffff"},borderColor:"transparent",borderWidth:0}]},options:{plugins:{zoom:{zoom:{pinch:{enabled:!0},wheel:{enabled:!0},mode:"y"}}},scales:{x:{type:"linear",display:!0,title:{display:!0,text:"Date"},ticks:{callback:(i,s,o)=>new Date(i).toISOString()}}}}},r=(i,s)=>{const o=typeof i[e]=="number"?i[e]:s.norms?.[i.__index__];Number.isNaN(o)||n.data.datasets[0].data.push({x:Date.parse(i.Timestamp),y:o})};return n.data.datasets[0].label=e??"",{chartConfig:n,createDateset_:r}};let Xo=0;const Go=(t,e,n)=>{const r=e.title??"",i=e["vires:parameters"],s=u=>{r in t||(t[r]={});const h=i.find(d=>d?.name==u);t[r][u]={info:h,dataset:r,outlines:!1,outline_color:!1,alpha:1,index:Xo++,colormap:Lo(h?.colorscale,h?.range,h?.name,h?.description,h?.uom??h?.units)}},o=u=>{const{chartConfig:h,createDateset_:d}=zo(t[r][u]);t[r][u].chart={createDateset:d,configuration:h}};if(i.forEach(u=>{const h=u?.name;!Mt.includes(h)&&!Vt.includes(h)||t?.[r]?.[h]||(s(h),o(h))}),!Object.keys(t).length)return t;const a=u=>!i.some(h=>h?.name===u),l=u=>u in t[r],c=function(u){if(a(u))return;const{featureCollection:h,pointCreator:d}=Po(r,u);t[r][u]={...t[r][u],isScalar:!0,featureCollection:h,featureCreator:d}};Mt.filter(l).forEach(u=>{c(u)});const f=u=>{const{featureCollection:h,vectorCreator:d}=Oo(r,u);t[r][u]={...t[r][u],isVector:!0,featureCollection:h,featureCreator:d};let p=[[],[],[]];n[u]?.[0]instanceof Array&&n[u].reduce((m,C)=>(C.forEach((g,w)=>{m[w].push(g)}),m),p);const v=kn().getNorms(r,u,p[1].length?p:[n[u]]);t[r][u]={...t[r][u],norms:v.norms,maxNorm:v.maxNorm,pushToNorms:v.push}};return Vt.filter(l).forEach(u=>{f(u)}),Object.keys(t[r]).forEach(u=>{const h=t[r][u];!h?.isVector&&!h?.isScalar&&(console.warn("Neither SCALAR_PARAM nor VECTOR_PARAM list contains the "+u+" parameter!"),delete t[r][u])}),t};function Ko(t,e,n){if(t in D){const r=Object.keys(D[t])[0],[i,s]=D[t][r]?.timestamp??["",""];if(i===jt.value&&s===te.value)return console.log(`${t} already rendered`),D;Rt.forEach((o,a,l)=>{typeof o.id=="string"&&o.id.includes(t)&&l.splice(a,1)})}Go(D,n,e);for(const r in D[t])e.Timestamp.forEach((i,s)=>{const o=Object.keys(e).reduce((a,l)=>(a[l]=e[l][s],a),{});o.__index__=s,D?.[t]?.[r]?.featureCreator?.(o,D[t][r]),D[t][r].chart?.createDateset(o,D[t][r])}),D?.[t]?.[r]?.featureCollection&&Rt.push(D[t][r].featureCollection),cn.push(D[t][r].colormap.getLegend());return console.log("settings after creating points:",D),D}const Uo={class:"fill-height fill-width"},ns={__name:"ViresDatasets",setup(t){const{loadSelectedSTAC:e}=dt.stac.useSTAcStore(),{stac:n,selectedStac:r}=Xe(dt.stac.useSTAcStore()),i=Ge([]),s=[];n.value?.reduce((f,u)=>(f.includes(u.mission)||f.push(u.mission),f),s),s.reduce((f,u)=>(f.push({id:u,title:u,type:"mission",children:n.value?.filter(h=>h.mission===u).reduce((h,d)=>(h.push({id:d.title??"",title:d.title??"",type:"dataType",children:[]}),h),[])}),f),i),console.log(i);const o=async f=>{const u=n.value?.find(h=>h.title==f.title);await e(u?.href).then(()=>{f.children=r.value?.links.map(h=>({id:h.id,title:h.title??"",type:"dataset"}))})};let a=0,l;const c=async f=>{clearTimeout(l),l=setTimeout(async()=>{console.log("times exec:",++a);const[u]=f,h=await bn(u,r.value);console.log("fetched item:",h);const d=r.value?.links.find(_=>_.title===u);if(!h||!d)return;const p=await Fn(h,jt.value,te.value,d["vires:parameters"]);console.log("data:",p),p&&Ko(u,p,d)})};return(f,u)=>(kt(),Ke("span",Uo,[y(fn,null,{default:bt(()=>u[0]||(u[0]=[Ue(" Datasets: ")])),_:1}),y(V(Bn),{items:i,color:"black","item-value":"title","item-title":"title","onUpdate:activated":c,"load-children":o,"item-props":"props",class:"fill-height fill-width overflow-auto overflow-x-hidden",activatable:"","open-on-click":""},{prepend:bt(({item:h})=>[St(" @vue-expect-error "),V(Lt)[h.type]?(kt(),Ye(He,{key:0,icon:[V(Lt)[h.type]]},null,8,["icon"])):St("v-if",!0)]),_:1},8,["items"])]))}};export{ns as default};
